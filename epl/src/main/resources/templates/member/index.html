<html lang="en"  xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Title -->
    <title> PremierLeagueDataAnalysis - User index &amp; Template</title>
    <th:block th:include = "/member/template/layout/headLayout"></th:block>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    
<style type="text/css">
.div-color{
background-color: #ffffff;
}
.carousel-inner img {
	width: 100%;
	height: 620px;
	margin: auto;
}

.carousel-caption h3 {
	color: #fff !important;
}
@media ( max-width : 100%) {
	.carousel-caption {
		display: none;
		/* Hide the carousel text when the screen is less than 600 pixels wide */
	}
}
#liveMatch{
	overflow-y: auto;
	width: 600px; 
	height: 200px;
	
  }
}
.editors-pick-post-area{
	padding-top:20px;
}
#teamlogo{
	
}
.teamLogo{
	width: 3%; 
	height: auto !important; 
	max-height: 100%;
	margin-left: 20px;
}
th {
	width: 300px;
	text-align: center;
}
#matchSchedule td{
	padding: 10px;
}
#matchSchedule tr{
	padding-bottom: 0px;
}
</style>

</head>

<body id="myPage" data-spy="scroll" data-target=".navbar"
	data-offset="50">
	
    <!-- ##### TopBar Area Start ##### -->
   	<th:block th:include = "/member/template/layout/topBar"></th:block>
   	<!-- 회색 여백 -->
    <div class="editors-pick-post-area" >
        	<div id="teamLogo" align="center">
        	</div>
    </div> 
		<div style = "background-color:rgb(211, 4, 15);">
			<div class="container">
				<!-- 메인 컨텐츠 -->
			<div id="carouselExampleFade" class="carousel slide carousel-fade"
				data-ride="carousel">
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img src="/images/main/mainLogo0.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo1.gif" alt="England">
					</div>
		
					<div class="carousel-item">
						<img src="/images/main/mainLogo2.gif" alt="England">
					</div>

					<div class="carousel-item">
						<img src="/images/main/mainLogo3.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo4.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo5.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo6.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo7.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo8.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo9.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo10.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo11.gif" alt="England">
					</div>
					
					<div class="carousel-item">
						<img src="/images/main/mainLogo12.gif" alt="England">
					</div>
				</div>

				<a class="carousel-control-prev" href="#carouselExampleFade"
					role="button" data-slide="prev"> <span
					class="carousel-control-prev-icon" aria-hidden="true"></span> <span
					class="sr-only">Previous</span>
				</a> <a class="carousel-control-next" href="#carouselExampleFade"
					role="button" data-slide="next"> <span
					class="carousel-control-next-icon" aria-hidden="true"></span> <span
					class="sr-only">Next</span>
				</a>
			</div>
		</div>
			</div>
		<!-- 실시간 경기 --><br>
		<div class="col-12 col-md-6 col-lg-8" >
			
			<!-- 게시판 -->
			<div class="col-lg-6" style="padding-left: 0px;">
				<div class = "card">
					<div class = "card-header">
						<div class="row">
							<div class="col-lg-9" align="left">
							<strong class="card-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">게시판</font></font></strong>
							</div>
							<div align="right" class="col-lg-3">
								<a href="/getMemberBoardList">more▶</a>
							</div>
							
						</div>
					</div>
					<div class = "card-body">
						<table class="table table-hover" id="boardList">
							
						</table>
					</div>
				</div>
			</div>
			<div class="col-lg-6" style="padding-right: 0px;">
				<div class = "card">
					<div class = "card-header">
						<div class="row">
							<div class="col-lg-9" align="left">
							<strong class="card-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">공지사항</font></font></strong>
							</div>
							<div align="right" class="col-lg-3">
								<a href="/getMemberNoticeList">more▶</a>
							</div>
						</div>
					</div>
					<div class = "card-body">
						<table class="table" id ="noticeList">
							
						</table>
					</div>
				</div>
			<br>
			</div>
			<!-- 경기의 일정을 보여준다 -->
			<div class = "card">
				<div class = "card-header" style="background: #3F1052;">
					<span style="color: white; font-weight: bold">경기 일정</span>
					<div>
						<span style="color: white;">18-19 시즌</span>
					</div>
				</div>
				<div class = "card-body row" >
				<table class = "col-11"  id="matchSchedule" >
					
				</table>
			
				</div>
			</div>
			<div class="row">
				<div id="liveMatch" class="col-12"></div>
			</div><br>
		</div>
		<div class="col-12 col-md-6 col-lg-4" align="center">
			<div class = "card">
				<div class = "card-header" style="background: #3F1052;">
					<span style="color: white; font-weight: bold">팀 랭킹</span>
				</div>
				<div class = "card-body">
					<table class="table table-borderless">
						<thead align="center">
							<tr class='row'>
								<th class='col-1'>랭킹</th>
								<th class='col-6'>팀</th>
								<th class='col-2'>경기</th>
								<th class='col-1'>골</th>
								<th class='col-2'>승점</th>
							</tr>
						</thead>
						<tbody id="teamRank" align="center">
							
						</tbody>
					</table>
				</div>
			</div><br>
			<div class = "card" style="height:352px;">
				<div class = "card-header" style="background: rgb(254, 252, 255);">
					<span style="font-weight: bold">채팅방</span>
				</div>
				<div class = "card-body" style="overflow-y: scroll;">
					
				
				</div>
			</div>
		</div>
	<!-- 흰 여백 -->
	<div class="popular-news-area section-padding-80-50">
        <div class="container">
            <div class="row">
            </div>
        </div>
    </div>
	
	<!-- 회색 여백 -->
    <div class="editors-pick-post-area" >
        	<div id="teamLogo" align="center">
        	
        	</div>
    </div> 
    


    <!-- ##### Footer Area Start ##### -->
    <th:block th:include = "/member/template/layout/footer"></th:block>
    <!-- ##### Footer Area End ##### -->
    
</body>
<!-- autocomplete from jQuery Ui -->


<script>
	$(".carousel").carousel(); // 인덱스 화면 스크롤
	//팀 로고 출력
	$.ajax({	
		url:"/getMemberTeamList",
		method:"POST",
		success:function(json){
			$("#teamLogo").empty();
			console.log(json);
			$(json).each(function(index, item){
				temp = "<a href = '/getMemberTeamOne?teamName="+item.teamName+"'>";
				temp += "<img class='teamLogo' src='/images/teamlogo/";
				temp += item.teamName;
				temp += ".png'></a>";
				
				$("#teamLogo").append(temp);
				
			});
		}
	});
	// 팀리스트
	$.ajax({
		url:"/member/getTeamRank",
		method:"POST",
		success:function(json){
			$("#teamRank").empty();
			let rank = 1;
			console.log(json);
			$(json).each(function(index, item) {
				temp = "<tr class='row'><td class='col-1'>"+rank+"</td>";
				temp += "<td class='col-6'> <img width='15' height='15' src='/images/teamlogo/"+item.teamName+".png'> "+item.teamName.replace("Football Club", "F.C")+"</td>";
				temp += "<td class='col-2'>"+item.matchCount+"</td>";
				temp += "<td class='col-1'>"+item.goalCount+"</td>";
				temp += "<td class='col-2'>"+item.points+"</td></tr>";
				$("#teamRank").append(temp);
				rank+=1;
			});
		}
	});
	
	$.ajax({	
		url:"/member/getMatchSchedule",
		method:"POST",
		success:function(json){
			console.log(json);
			$("#matchSchedule").empty();
			console.log(json);
			temp ="<tr class='row'>";
			$(json).each(function(index, item) {
				console.log(item);
				temp += "<td class='col-4' style='border-right:1px ridge;'>"+
					"<table>"+
						"<tr>"+
							"<td class='col-4'>"+
								"<span><img width='25' height='25' src='/images/teamlogo/"+item.awayteamName+".png'> "+item.awayteamName.replace("Football Club", "F.C")+" </span> "+
							"</td>"+
							"<td class='col-4'>"+
								"<span> </span>"+
							"</td>"+
						"</tr>"+
						"<tr>"+
							"<td class='col-4'>"+
								"<span><img width='25' height='25' src='/images/teamlogo/"+item.hometeamName+".png'> "+item.hometeamName.replace("Football Club", "F.C")+" </span>"+
							"</td>"+
							"<td class='col-4'>"+
								"<span> </span>"+
							"</td>"+
						"</tr>"+
					"</table>"+
				"</td>"+
				"<td class='col-2' >"+
					item.matchDate+"<br>"+item.matchTime+
				"</td>";
				
			
				if(index%2==1){
					console.log(index);
					$("#matchSchedule").append(temp);
					temp='';
					temp+="<tr class='row' style='padding-bottom: 10px;'>";
				}
			});
		}
	});
	
	// 실시간 경기
	$.ajax({
		url : "/member/getLiveMatchList",
		method : "POST",
		success : function(json) {
			$("#liveMatch").empty();
			$("#liveMatch").append("<div style = 'text-align:center'>실시간 골득실 정보</div>");
			$(json).each(function(index, item) {
				console.log(json);

				temp = "<table class = 'table' border = '1'><thead class='thead-dark'><tr><th>";
				temp += item.hometeamName;
				temp += "</th> <th>VS</th> <th>"
				temp += item.awayteamName;
				temp += "</th></tr> </thead> <tbody> ";
				temp += "<tr><td style = 'text-align:center'>";
				temp += item.hometeamGoals;
				temp += "</td><td></td><td  style = 'text-align:center'>";
				temp += item.awayteamGoals;
				temp += "</td></tr></tbody></table>";
				$("#liveMatch").append(temp);
				
			});
		}
	});
	
	//축소 게시판 ajax
	$.ajax({
		url:"/getBoardList",
		method:"POST",
		success:function(json){
			console.log(json);
			$("#boardList").empty();
			$(json).each(function(index,item) {
				temp="<tr class='d-flex' onclick=\"location.href='/getMemberBoardListOne?boardNo="+item.boardNo+"'\"><td class='col-2'>"+item.boardNo+"</td>"+
				"<td class='col-8'><font color='#FA3A3A' style='font-weight: bold;'>["+item.boardCategory+"]</font>"+
                "<font style='vertical-align: inherit;'><font style='vertical-align: inherit;'>"+item.boardTitle+"</font></font></td>"+
                "<td class='col-2'><font color='#19BE14' style='font-weight: bold;'>"+item.boardUser+"</font></td></tr>";
				$("#boardList").append(temp);
				if(index==5) {
					return false;
				}
			});
		}
	});
	
	// 공지사항
	$.ajax({
		url : "/getNoticeList",
		method : "post",
		async : false,
		success : function(json) {
			console.log("리스트 성공!");
			console.log(json);
			$(json).each(function(index, item) {
				temp = "<tr>";
				temp += "<td>" + item.noticeNo + "</td>";
				temp += "<td></td>";
				temp += "<td>";
				temp += "<a href = /getMemberNoticeOne?noticeNo=";
				temp += item.noticeNo;
				temp += ">";
				temp += item.noticeTitle + "</a></td>";
				temp += "<td>" + item.noticeDate + "</td>";
				temp += "</tr>";
				$("#noticeList").append(temp);
				if(index==5) {
					return false;
				}
			});
		}
	});
</script>
</html>