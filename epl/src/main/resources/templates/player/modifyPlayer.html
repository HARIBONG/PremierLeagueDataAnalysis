<!doctype html>
<html class="no-js" lang="" xmlns:th="http://www.thymeleaf.org">

<head>
<title>Template</title>
<th:block th:include="template/part/headLayout"></th:block>
</head>

<body>
	<!-- Left Panel -->
	<th:block th:include="template/part/aside"></th:block>
	<!-- /#left-panel -->

	<!-- Right Panel -->
	<div id="right-panel" class="right-panel">
		<!-- Header-->
		<div th:include="template/part/topBar::topBar"></div>
		<!-- /#header -->

		<!-- Content -->
		<div class="content">
			<div>
				<div>
					player : <select id="player">
					</select>
				</div>
				<div>
					Birth-Date : <input type="date" id="birthDate">
				</div>
				<div>
					position : <select id="position">
					</select>
				</div>
				<div>
					country : <select id="countryList">
					</select>
				</div>
			</div>
			<button type="button" id="modify">player modify</button>
		</div>
		<!-- /.content -->


		<div class="clearfix"></div>

		<!-- Footer -->
		<div th:include="template/part/footer::footer"></div>
		<!-- /Footer -->

	</div>
	<!-- /#right-panel -->



	<!--Local Stuff-->
	<script>
	// 국가리스트 불러오기
	$.ajax({
		url : "getPlayerList",
		method : "post",
		success : function(json){
			console.log("player 받아오기 성공 !");
			console.log(json);
			$(json).each(function(index, item){
				temp = "<option value = '";
				temp += item.playerNo;
				temp += "'>";
				temp += item.playerName;
				temp += "</option>";
				$("#player").append(temp);
			});
		}
	});
	$.ajax({
		url : "getCountryList",
		method : "post",
		success : function(json){
			console.log("country 받아오기 성공 !");
			console.log(json);
			$(json).each(function(index, item){
				temp = "<option value = '";
				temp += item.countryName;
				temp += "'>";
				temp += item.countryName;
				temp += "</option>";
				$("#countryList").append(temp);
			});
		}
	});
	// 포지션  불러오기
	$.ajax({
		url : "getPositionList",
		method : "post",
		success : function(json){
			console.log("position 받아오기 성공 !");
			console.log(json);
			$(json).each(function(index, item){
				temp = "<option value = '";
				temp += item.position;
				temp += "'>";
				temp += item.position;
				temp += "</option>";
				$("#position").append(temp);
			});
		}
	});
	 // 플레이어 입력
	 $("#modify").click(function() {
		console.log("no"+$("#player").val());
		console.log("birthDate"+$("#birthDate").val());
		console.log("countryList"+$("#countryList").val());
		console.log("playerPosition"+$("#position").val());
		$.ajax({
			url : "/modifyPlayer",
			method : "post",
			data : {"playerNo" : $("#player").val() ,
					"birthDate" : $("#birthDate").val() ,
					"country" : $("#countryList").val() ,
					"playerPosition" : $("#position").val()} ,
			success : function(json) {
				console.log(json + "행 입력 성공!");
				location.href="/getPlayerList";
				
			}
		});
	}); 
    </script>
</body>
</html>
